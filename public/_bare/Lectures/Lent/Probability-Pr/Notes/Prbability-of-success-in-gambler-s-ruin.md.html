<p>
    Let the probability of success be <span class="inline-math">$h_x = \prob(X_T=a)$</span>.
</p>
<p>
    For <span class="inline-math">$x=1,2,\ldots,a-1$</span>, using the law of total probability
    <span class="display-math">$$ \begin{align*}
    h_x &amp;= \prob(Y_1=1)\prob(X_T=a|Y_1=1)+\prob(Y_1=-1)\prob(X_T=a|Y_1=-1) \\
    &amp;= ph_{x+1} + qh_{x-1}
    \end{align*} $$</span>
    and boundary condition is
    <span class="display-math">$$ h_0 = 0, \quad h_a=1. $$</span>
    Solving (<a href="/tripos-notes/Lectures/Lent/Probability-Pr/Notes/Derivation-gambling-success-recurrence-relation.html">derivation</a>),
    <span class="display-math">$$ h_x = \begin{cases}
        \dfrac ax, &amp;p=\dfrac12, \\
        \dfrac{1-(p/q)^x}{1-(p/q)^a}, &amp;p\neq\dfrac12.
    \end{cases} $$</span>
</p>

<p>
    Characteristic equation
    <span class="display-math">$$ \begin{align*}
    \lambda &amp;= p\lambda^2 + q \\
    0 &amp;= p\lambda^2-\lambda + q \\
    &amp;= (p\lambda - q)(\lambda-1)
    \end{align*} $$</span>
    so <span class="inline-math">$\lambda=q/p,1$</span>.
</p>
<p>
    For <span class="inline-math">$p=1/2$</span> we have double roots so
    <span class="display-math">$$ h_x = A + Bx. $$</span>
    Solving <span class="inline-math">$A,B$</span> using boundary conditions yields
    <span class="display-math">$$ h_x = \frac xa. $$</span>
</p>
<p>
    For <span class="inline-math">$p\neq1/2$</span> we have
    <span class="display-math">$$ h_x = C + D\Big(\frac pq\Big)^x. $$</span>
    Boundary conditions give
    <span class="display-math">$$ \begin{cases}
    0 &amp;= h_0 = C+D \\
    1 &amp;= h_a = C+D\Big(\dfrac pq\Big)^a
    \end{cases} \implies
    \begin{cases}
    C &amp;= \dfrac1{1-(p/q)^a} \\
    D &amp;= -\dfrac{1}{1-(p/q)^a}
    \end{cases} $$</span>
    so
    <span class="display-math">$$ h_x = \frac{1-(p/q)^x}{1-(p/q)^a}. $$</span>
</p>

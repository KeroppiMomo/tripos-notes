<p>
    For <span class="inline-math">$p=1/2$</span>, look for particular solution <span class="inline-math">$\tau_x = Cx_2$</span>:
    <span class="display-math">$$ Cx^2 = 1 + \frac12C(x^2+2x+1) + \frac12 C(x^2-2x+1) $$</span>
    so <span class="inline-math">$C=-1$</span>.
    Hence a general solution is
    <span class="display-math">$$ \tau_x = Ax+B-x^2 $$</span>
    and using the boundary conditions we have
    <span class="display-math">$$ \tau_x = x(a-x). $$</span>
</p>
<p>
    For <span class="inline-math">$p\neq 1/2$</span>, look for particular solution <span class="inline-math">$\tau_x = Cx$</span>:
    <span class="display-math">$$ Cx = 1 + pC(x+1) + qC(x-1) $$</span>
    so <span class="inline-math">$C=1/(q-p)$</span>.
    The general solution is
    <span class="display-math">$$\tau_x = A+B\Big(\frac qp\Big)^x + \frac{x}{q-p}. $$</span>
    Then apply the boundary conditions:
    <span class="display-math">$$ \begin{cases}
    0&amp;=\tau_0=A+B \\
    0 &amp;=\tau_a = A+B\Big(\dfrac qp\Big)^a + \dfrac{a}{q-p}
    \end{cases} \implies 
    B=-A= \frac{a}{q-p}\frac{1}{1-(q/p)^a}
    $$</span>
    hence
    <span class="display-math">$$ \tau_x = \frac{x}{q-p} - \frac{a}{q-p}\frac{(q/p)^x - 1}{(q/p)^a - 1}. $$</span>
</p>

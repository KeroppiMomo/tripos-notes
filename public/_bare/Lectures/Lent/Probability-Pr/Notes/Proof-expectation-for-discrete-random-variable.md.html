<p>
    We can write
    <span class="display-math">$$ f(X) = \sum_n f(x_n)\, 1_{\set{X=x_n}}. $$</span>
</p>
<p>
    For <span class="inline-math">$f$</span> non-negative, we apply additive countability to get
    <span class="display-math">$$ \expect\big(f(X)\big) = \sum_n f(x_n)\,\prob(X=x_n). $$</span>
</p>
<p>
    For <span class="inline-math">$f(X)$</span> integrable,
    <span class="display-math">$$\begin{align*}
    \expect\big(f(X)\big) &amp;= \expect\big(f^+(X)\big) - \expect\big(f^-(X)\big) \\
    &amp;= \sum_n f^+(x_n)\,\prob(X=x_n) - \sum_n f^-(x_n)\,\prob(X=x_n) \\
    &amp;= \sum_n \big(f^+(x_n) - f^-(x_n)\big)\, \prob(X=x_n) \\
    &amp;= \sum_n f(x_n)\, \prob(X=x_n).
    \end{align*}$$</span>
</p>

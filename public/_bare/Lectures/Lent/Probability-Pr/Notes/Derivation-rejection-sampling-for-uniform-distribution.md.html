<p>
    <span class="display-math">$$ \begin{align*}
        \prob(\v X\in B|N=n) &amp;= \frac{\prob(\v U_1,\ldots,\v U_{n-1} \not\in A, \v U_n\in B\cap A)}{\prob(\v U_1,\ldots,\v U_{n-1}\not\in A,\v U_n\in A)} \\
        &amp;= \frac{\prob(\v U_1,\ldots \v U_{n-1}\not\in A) \prob(\v U_n \in B\cap A)}{\prob(\v U_1,\ldots,\v U_{n-1}\not\in A) \prob(\v U_n\in A)} &amp;&amp;\text{by independence} \\
        &amp;= \frac{|B\cap A|}{|A|} \\
        &amp;= \int_{B} f(\v x)\, dx.
    \end{align*} $$</span>
    so <span class="inline-math">$\prob(\v X\in B) = \int_{B} f(\v x) \, dx$</span>.
    Therefore by the law of total probability,
    <span class="display-math">$$ \begin{align*}
        \prob(\v X\in B) &amp;= \sum_{n=1}^{\infty} \prob(\v X\in B|N=n) \prob(N=n) \\
        &amp;= \int_{B} f(\v x) \, dx \sum_{n=1}^{\infty} \prob(N=n) \\
        &amp;= \int_{B} f(\v x)\, dx
    \end{align*} $$</span>
    so <span class="inline-math">$X$</span> has the desiered density.
</p>
